
<div class="row">
	<div class="col-md-10 col-md-offset-1">
		
		<form name="signupFrm" ng-submit="doSignup(account)" novalidate class="form-horizontal">	
			
			<fieldset>
				<legend>Create an Account</legend>
			
				<div class="form-group" ng-class="{'has-error':signupFrm.first_name.$dirty && signupFrm.first_name.$invalid || signupFrm.last_name.$dirty && signupFrm.last_name.$invalid}">

				  <label class="col-md-4 control-label"><span class="required">*</span> Name:</label>

				  <div class="row col-md-8">
				 	<div class="col-sm-3" ng-class="hasError(signupFrm.first_name)">
				  		<label style="text-align:left">
							<input name="first_name" ng-model="account.first_name" type="text" required ng-maxlength="35" class="form-control" >
							<span class="required">*</span> First
							<span class="field-validation-error" ng-show="showError(signupFrm.first_name, 'required')">Required.</span>	
						</label>
					</div>
					<div class="col-sm-3">
				  		<label class="no-error">
						<input name="middle_name" ng-model="account.middle_name" type="text" placeholder="optional"  ng-maxlength="35" class="form-control">
						Middle</label>
					</div>
					<div class="col-sm-4" ng-class="hasError(signupFrm.last_name)">
				  		<label>
						<input name="last_name" ng-model="account.last_name" type="text" required  ng-maxlength="35" class="form-control" >
							<span class="required">*</span> Last
							<span class="field-validation-error" ng-show="showError(signupFrm.last_name, 'required')">Required.</span>	
						</label>
					</div>
					<div class="col-sm-2">
						<label class="no-error">
						<select name="suffix" ng-model="account.suffix"  ng-options="S.RV_LOW_VALUE as S.RV_LOW_VALUE for S in suffixArray" class="form-control">
							<option value=""></option>
						</select>
						Suffix</label>
					</div>
				  </div>
				</div>
				
				<div class="form-group" ng-class="hasError(signupFrm.date_of_birth)">
				  <label class="col-md-4 control-label" for="date_of_birth"><span class="required">*</span> Date of Birth:</label>
				  <div class="col-md-3">
				    <input id="date_of_birth" name="date_of_birth"  ng-model="account.date_of_birth" type="text" required placeholder="mm/dd/yyyy" ng-pattern="/^[0-9]{2}/[0-9]{2}/[0-9]{4}$/"  class="form-control input-md" >
				  </div>
				  <span class="col-md-5 help-block field-validation-error">
				  		<span ng-show="showError(signupFrm.date_of_birth, 'required')">Required.</span>
						<span ng-show="showError(signupFrm.date_of_birth, 'pattern')">Please enter a date in mm/dd/yyyy format.</span>
				  </span>						
				</div>
				
				<div class="form-group" ng-class="hasError(signupFrm.email)">
					<label class="col-md-4 control-label" for="email"><span class="required">*</span> Email:</label>
					<div class="col-md-4">
				    	<input id="email" name="email"  ng-model="account.email" type="email" required  ng-maxlength="50" class="form-control">
					</div>
					<span class="col-md-4 help-block field-validation-error">
						<span ng-show="showError(signupFrm.email, 'required')">Required.</span>
						<span ng-show="showError(signupFrm.email, 'email')">Please enter a valid email.</span>
					</span>	
				</div>			
		
					
				<br>
				<p>Your username can not be changed in the future. </p>		
				
				<div class="form-group"  ng-class="hasError(signupFrm.User_ID)">
				  <label class="col-md-4 control-label" for="User_ID"><span class="required">*</span> Select a user name:</label>
				  <div class="col-md-4">
				    <input id="User_ID" name="User_ID" ng-model="account.User_ID" type="text" unique-username required ng-minlength="5" ng-maxlength="20" class="form-control">
				  </div>
				  <span class="col-md-4 help-block">
						<span class="field-validation-error" ng-show="showError(signupFrm.User_ID, 'required')">Required.</span>
						<span class="field-validation-error" ng-show="showError(signupFrm.User_ID, 'uniqueUsername')">User name already in use.</span>		
						<span class="field-validation-error" ng-show="showError(signupFrm.User_ID, 'minlength')">5 character minimum.</span>
						<span class="field-validation-error" ng-show="showError(signupFrm.User_ID, 'maxlength')">20 character maximum.</span>				
				  </span>
				</div>
				
				<br>
				<p>You password must be at least 8 characters long and contain at least one lower case letter, upper case letter, and digit or special character. </p>
					
				<div class="form-group" ng-class="hasError(signupFrm.password)">
				  <label class="col-md-4 control-label" for="passwordinput"><span class="required">*</span> Password:</label>
				  <div class="col-md-4">
				    <input id="passwordinput" name="password" ng-model="account.password" type="password" required ng-minlength="8" ng-maxlength="20" ng-pattern="/^.*(?=.*[0-9@\$=!:.#%])(?=.*[a-z])(?=.*[A-Z])(^[a-zA-Z0-9@\$=!:.#%]+$)/" class="form-control" >
				  </div>
				  <span class="col-md-4 help-block field-validation-error">
				  		<span ng-show="showError(signupFrm.password, 'required')">Required.</span>
						<span ng-show="showError(signupFrm.password, 'pattern')">Must contain both upper and lower case letters and numbers or special characters.</span>
				  		<span ng-show="showError(signupFrm.password, 'minlength')">8 character minimum.</span>
						<span ng-show="showError(signupFrm.password, 'maxlength')">20 character maximum.</span>
				  </span>
				</div>
				
				<div class="form-group" ng-class="hasError(signupFrm.password2)">
				  <label class="col-md-4 control-label" for="password2"><span class="required">*</span> Confirm Password:</label>
				  <div class="col-md-4">
					<input id="password2" name="password2" type="password" ng-model="account.password2" password-match="account.password" required class="form-control"/>
				  </div>
				  <span class="col-md-4 help-block field-validation-error">
				  		<span ng-show="showError(signupFrm.password2, 'required')">Required.</span>
				  		<span ng-show="showError(signupFrm.password2, 'unique')">Passwords do not match.</span>
				  </span>	
				</div>
			
				
				<br>
				<p>The following security question will help us verify your identity should you forget your password.</p>
				
				<div class="form-group" ng-class="hasError(signupFrm.hint_question)">
					<label class="col-md-4 control-label" for="hint_question"><span class="required">*</span> Security Question:</label>
				 	<div class="col-md-5">
						<select id="hint_question" name="hint_question" ng-model="account.hint_question" required ng-options="H.RV_LOW_VALUE as H.RV_MEANING for H in hintQuestionArray" class="form-control">
							<option value="">Please Choose Your Question</option>
						</select>
				 	</div>
					<span class="col-md-3 help-block field-validation-error"
						ng-show="showError(signupFrm.hint_question, 'required')">Required.</span>		  
				</div>
				
				<div class="form-group" ng-class="hasError(signupFrm.hint_answer)">
					<label class="col-md-4 control-label" for="hint_answer"><span class="required">*</span> Answer:</label>
					<div class="col-md-5">
				    	<input id="hint_answer" name="hint_answer" ng-model="account.hint_answer" type="text" required  ng-maxlength="30" class="form-control">
					</div>
					<span class="col-md-3 help-block field-validation-error"
						ng-show="showError(signupFrm.hint_answer, 'required')">Required.</span>	
				</div>
			
			</fieldset>
			
			<div class="form-actions col-md-4 col-md-offset-4">
				<button can-save="signupFrm" class="submit btn btn-primary" >Create My Account</button>
				 &nbsp; or <a class="text-danger" href="#">Cancel</a>
			</div>
			
		</form>

	</div>
</div>

<!-- DEBUG
<br>
<pre>{{signupFrm.last_name.$invalid | json}}</pre>
<pre>{{account| json}}</pre>
-->
